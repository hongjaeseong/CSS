<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <script>
        // 클로저
        // 내부함수가 외부함수의 변수에 접근할 수 있는 것을 의미
        // 정보 은닉    : 클로저를 사용하여 외부에서 접근할 수 없도록 변수를 보호하고, 내부함수를 통해서만 접근하도록 할 수 있다
        // 데이터 보존  : 함수가 생성될 당시의 환경을 유지하면서, 데이터를 영구적으로 보존할 수 있다
        // 비동기 처리  : 비동기적인 작업에서 결과를 유지하고, 필요할 때 접근할 수 있다

        // 01 기본
        // function outerFunc(){
        //     let state = 0;      // 상태변수

        //     // 내부함수
        //     function addStateOne(){
        //         state++;
        //         console.log("cur State Val : ", state);
        //     }

        //     return addStateOne; // addStateOne함수의 위치값을 리턴(함수명이 리턴되면 만들어진 함수의 위치정보(주소)가 반환)
        // }

        // // addStateOne함수의 호출은 가능하지만 state(상태변수)에는 직접 접근을 하지 못한다
        // const closureFunc = outerFunc();        // addStateOne함수의 위치값을 받음  
        
        // closureFunc();
        // closureFunc();
        // closureFunc();
        
        // 02 외부에서 값 설정 및 값 가져오기
        const outer=()=>{
            let num = 0;

            // in JAVA, Getter and Setter와 유사한 개념
            const getNum = ()=>{return num;}
            const setNum = (n)=>{num = n;}

            return {
                get : getNum,
                set : setNum,
            }
        }

        const closure = outer();
        console.log(closure);
        closure.set(100);
        console.log(closure.get());



    </script>

</body>
</html>